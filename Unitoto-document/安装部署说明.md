# 安装部署说明



## 1.引言

#### 1.1 编写目的

本文档将详细说明最终制品的安装环境和步骤，在下载最终制品所有文件后，可按照本手册完成安装部署工作。

#### 1.2 背景

- 软件名称：unitoto
- 开发人员：王子豪，谭子豪，魏兆基，陶文宇，万群

## 2.安装环境

#### 2.1 环境描述

- 操作系统: `Linux`
- 开发环境：`Node.js, Tomcat, Maven, ZooKeeper `
- 开发工具：`eclipse`
- 数据库：`mySQL`

#### 2.2 配置前端开发环境

- 安装Node.js环境：下载地址 [Node.js](https://nodejs.org/)

- 安装依赖：在命令行输入 `npm i`
- 命令行输入 `npm run dev`

#### 2.3 配置后端开发环境

- 在Eclipse中安装[Tomcat](https://tomcat.apache.org/) 
- 在Eclipse中安装[Maven](http://maven.apache.org/) 和 [Maven Repository](http://mvnrepository.com/) 
- 安装[Zookeeper](https://zookeeper.apache.org/)

#### 2.4 安装mySQL



## 3.程序部署

- 导入（Import） `Unitoto-api` , `Unitoto-service` 和 `Unitoto-web` 到 Eclipse
- 运行 `Zookeeper`
- 运行 `unitoto/Unitoto-service/src/main/java/com/avenger/declare/Start.java`
- 导入（Import）`Unitoto-web` 到 `Tomcat`
- 运行 `Tomcat`



## 4.运行步骤

运行前请确认已经下载完整的制品文件并正确部署

#### 4.1 运行服务端

#### Run Start.java

- 命令行输入`cd /Users/James/Documents/GitHub/unitoto/Unitoto-service/target`
- 命令行输入 `java -Djava.ext.dirs=/Users/James/Documents/GitHub/unitoto/Unitoto-service/target/lib -cp Unitoto-service-0.0.1-SNAPSHOT.jar com.avenger.declare.Start`

#### Run Tomcat

- 拷贝 `Unitoto-web.war` 到 `/Users/James/Documents/apache-tomcat-8.0.9/webapps`
- 命令行输入 `cd /Users/James/Documents/apache-tomcat-8.0.9/bin`
- 命令行输入 `sudo sh startup.sh`

#### 4.2 运行客户端

- 命令行输入 `npm run dev`

## 5.测试方法

执行完以上步骤后，打开浏览器，访问http://localhost:8081

- 如果浏览器能正常加载下图所示网页，那么表示安装部署成功：

  ![1529673685500](C:\Temp\1529673685500.png)

- 如果无法加载出页面，则安装失败，请检查以上步骤哪部执行出错，然后重新执行。



## 6.常见问题

1.无法安装依赖

可能是未安装npm

请先安装npm：`sudo apt-get install npm`

2.无法登录

可能是未运行后端，请按照4.1运行服务端

